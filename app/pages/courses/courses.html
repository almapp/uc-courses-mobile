<ion-navbar *navbar>
  <ion-title>Busca Cursos UC</ion-title>
  <ion-buttons right>
    <button (click)="selectPeriod()">
      {{ period | periodize }}
    </button>
  </ion-buttons>
</ion-navbar>

<ion-content class="page-content">
  <ion-card>
    <ion-card-header>
      Búsqueda
    </ion-card-header>
    <ion-card-content>
      <ion-list>
        <ion-input>
          <icon search item-left></icon>
          <input type="text" placeholder="Sigla, nombre o NRC" #query>
        </ion-input>
        <ion-item (click)="selectCampus()">
          <icon ios="ion-md-locate" md="ion-md-locate" item-left></icon>
          Campus
          <ion-note item-right>
            {{ campus ? campus.name : "Todos" }}
          </ion-note>
        </ion-item>
        <ion-item>
          <button block small (click)="search(query.value)" [disabled]="query.value.length < 1">Buscar</button>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
  <ion-card *ngIf="courses">
    <ion-card-content>
      <ion-list *ngFor="#school of schools">
        <ion-list-header>
          <icon [name]="icon(school)" item-left></icon>
          {{school | uppercase}}
        </ion-list-header>
        <course-item
          *ngFor="#course of courses[school]"
          [course]="course"
          (select)="selectCourse(course)"
          (add)="addToSchedule(course)">
        </course-item>
      </ion-list>
      <p *ngIf="schools.length === 0">
        Sin resultados
      </p>
    </ion-card-content>
  </ion-card>
</ion-content>
